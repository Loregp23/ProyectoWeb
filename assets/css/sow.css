:root {
  --header-height: 64px; /* mobile-first default */
  --footer-height: 56px; /* default footer height for mobile */
}

/* Import Montserrat + Raleway for paragraph styling (used by .montserrat-analysis) */
@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap");

/* Reusable Montserrat class for analysis paragraphs */
.montserrat-analysis {
  font-family: "Montserrat", sans-serif;
  font-optical-sizing: auto;
  font-weight: 400; /* standard weight; change to 100..900 as needed */
  font-style: normal;
  line-height: 1.6; /* adjusted interlineado: reduced as requested */
}

header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--header-height);
  /* From https://css.glass */
  background: rgba(255, 255, 255, 0.19);
  border-radius: 16px;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  z-index: 1000;
}

/* Use Raleway for all header elements */
header,
header * {
  font-family: "Raleway", sans-serif;
}

/* Specific tweak for analysis page: move 'Volver' to top-left */
body.analysis-page header nav {
  justify-content: flex-start;
  padding-left: 2.5rem; /* increased left offset (>= double) */
}
body.analysis-page header nav ul {
  display: block; /* keep the link simple and aligned left */
}
body.analysis-page header nav ul li {
  margin-right: 0;
}
body.analysis-page header nav ul li a {
  display: inline-block;
  padding: 0.5rem 0.75rem;
}

/* SOW index: brand on the left, nav items on the right */
body.sow-index header nav {
  display: flex;
  align-items: center;
  gap: 1rem;
}
body.sow-index header nav .sow-brand {
  font-weight: 800;
  font-size: 0.95rem;
  margin-left: 6rem; /* quadrupled left offset as requested */
  margin-right: 6rem; /* keep large right gap */
  display: inline-block;
}
body.sow-index header nav ul {
  margin-left: auto; /* push nav to the right */
  margin-right: 6rem; /* inset nav block from the right edge to match brand spacing */
}

@media (min-width: 768px) {
  body.sow-index header nav ul {
    margin-right: 8rem; /* larger inset on desktop */
  }
}

@media (min-width: 768px) {
  body.analysis-page header nav {
    padding-left: 4rem; /* larger left offset on desktop */
  }
}

/* Title shown in header for analysis page */
body.analysis-page header .analysis-header-title {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: 50%;
  transform-origin: center;
  transform: translateX(-50%) translateY(-50%);
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-size: 0.95rem;
}

nav {
  position: relative; /* header handles fixed positioning */
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}
nav ul {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
}
nav ul li {
  margin-right: 1rem;
}
nav ul li a {
  text-decoration: none;
  color: #333;
}

body {
  background-color: azure;
}

/* Footer is hidden by default; reserve space only when footer is shown */
/* keep background/color on body separate above */
body.footer-visible {
  padding-bottom: var(--footer-height);
}

section {
  height: 90vh;
}
html {
  scroll-behavior: smooth;
}
/* Ensure full-height context so footer can be pushed to bottom */
html,
body {
  height: 100%;
}

/* let main grow to fill available space under the fixed header */
main {
  flex: 1 0 auto;
}
nav ul li a:hover,
nav ul li a:focus {
  color: #007acc;
  outline: none;
}

/* Cover and typewriter (mobile-first) */
.cover {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 70vh;
  height: auto;
  width: 100%;
  /* From https://css.glass */
  background: rgba(255, 255, 255, 0.19);
  border-radius: 16px;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: #000000;
  padding: 4vh 4vw;
  box-sizing: border-box;
  margin-bottom: 5rem; /* original mobile spacing after cover */
  position: relative; /* establish stacking context for overlay */
}

/* Rainbow gradient glass overlay for the cover (low opacity) */
.cover::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  z-index: 0; /* sit under content */
  /* neutral translucent wash (no rainbow) */
  background: rgba(255, 255, 255, 0.02);
  mix-blend-mode: normal;
}

/* Ensure direct children (title) stay above the overlay */
.cover > * {
  position: relative;
  z-index: 1;
}

/* Mobile tweaks: reduce large vertical gaps introduced by full-height sections */
@media (max-width: 767px) {
  /* sections should size to content on small screens */
  section {
    height: auto !important;
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }

  /* make the cover less tall on small devices */
  .cover {
    min-height: 56vh;
    margin-bottom: 1.5rem;
    padding: 3vh 4vw;
  }

  /* reduce spacing between site blocks */
  .site-split {
    margin-top: 0.75rem;
    padding: 0 0.75rem;
  }

  /* tighten analysis page spacing on mobile */
  .analysis-section {
    padding: 2rem 1rem !important;
  }
}

/* add extra gap before section headings (like Awwwards) */
main section h2 {
  margin-top: 0.5rem;
}

/* larger gap on wider screens */
@media (min-width: 768px) {
  .cover {
    margin-bottom: 9rem; /* original desktop spacing after cover */
  }
  main section h2 {
    margin-top: 1.5rem;
  }
}

/* Split layout for preview + analysis */
.site-split {
  display: block; /* stacked on mobile */
  gap: 1rem;
  margin-top: 1.5rem; /* increased spacing under the H2 (mobile-first) */
  padding: 0 1rem; /* horizontal padding to give breathing room from page edges */
  box-sizing: border-box;
}
.site-split__left,
.site-split__right {
  box-sizing: border-box;
  padding: 0; /* remove per-column padding to keep outer padding consistent */
}

/* Move horizontal spacing so the text column starts further right.
   We remove extra left padding from the left column and instead apply it
   as left padding on the article (mobile-first). Desktop overrides increase it. */
.site-split__left {
  padding-left: 0.125rem; /* tiny inset for mobile */
}

.site-embed-wrapper {
  overflow: auto;
  display: flex;
  justify-content: center;
}
.site-embed {
  /* prefer landscape: use aspect-ratio so width > height by default */
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  aspect-ratio: 16 / 9; /* default landscape ratio */
  height: auto; /* let aspect-ratio control height */
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: 8px;
  background: #fff;
  display: block;
}

@media (min-width: 768px) {
  /* use flex so the left column can size to the iframe intrinsic width */
  .site-split {
    display: flex;
    flex-wrap: nowrap;
    /* stretch columns so right column can match iframe height */
    align-items: stretch;
    gap: 1rem; /* reduce inter-column gap so text is closer to iframe */
    margin-top: 4.5rem; /* larger gap on desktop */
    padding: 0 4rem; /* larger horizontal padding on desktop */
  }
  /* left column won't force equal width; it will size to its content (iframe) */
  .site-split__left {
    flex: 0 0 auto;
    padding-left: 0;
    padding-right: 0;
  }
  /* right side is flexible and will take remaining space */
  .site-split__right {
    flex: 1 1 360px; /* allow vertical centering of its content */
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  /* desktop: prefer a wider iframe (landscape), limit maximum width */
  .site-embed {
    width: min(1200px, 65vw);
    aspect-ratio: 16 / 9;
    height: auto;
    min-height: 360px;
  }
}

.title {
  display: inline-block;
  white-space: normal; /* allow wrapping */
  width: auto;
  max-width: min(92vw, 60ch);
  /* Slightly bigger: larger clamp max and a more aggressive fluid scale */
  font-size: clamp(1.5rem, 7.5vw, 3rem);
  line-height: 1.02;
  border: none;
  font-weight: 700; /* make the cover title stand out */
}

/* Main page H2 titles: uppercase and Poppins bold */
body.sow-index main h2,
body.sow-index h2 {
  text-transform: uppercase;
  font-family: "Poppins", "Raleway", sans-serif;
  font-weight: 800;
  letter-spacing: 0.08em;
  /* roughly 3x larger than before: fluid between 3rem and 3.75rem */
  font-size: clamp(3rem, 7.5vw, 3.75rem);
  line-height: 1;
  /* make top and bottom margins twice the font-size (2em) */
  margin: 2em 0;
}

/* Make the analysis intro title match the main H2 size and style */
.analysis-intro h2.rainbow {
  text-transform: uppercase;
  font-family: "Poppins", "Raleway", sans-serif;
  font-weight: 800;
  letter-spacing: 0.08em;
  font-size: clamp(3rem, 7.5vw, 3.75rem);
  line-height: 1;
  /* Reduce top gap so the H2 sits closer to the header, keep bottom margin tight */
  margin: 1.25em 0 0.125rem 0; /* top reduced from 2em to 1.25em */
}

/* Apply rainbow color rotation to analysis headings */
.analysis-intro h2,
.analysis-item h2 {
  animation: colorRotate 6s linear 0s infinite;
}

@media (prefers-reduced-motion: reduce) {
  .analysis-intro h2,
  .analysis-item h2 {
    animation: none !important;
  }
}

h1 {
  margin: 0;
  padding: 0;
  display: block;
  width: auto;
}

.poppins-thin {
  font-family: "Poppins", sans-serif;
  font-weight: 100;
  font-style: normal;
}

.poppins-extralight {
  font-family: "Poppins", sans-serif;
  font-weight: 200;
  font-style: normal;
}

.poppins-light {
  font-family: "Poppins", sans-serif;
  font-weight: 300;
  font-style: normal;
}

/* Shadow box and rainbow color animation for headings */
.rainbow {
  /* only animate color; preserve font metrics so positions don't change */
  font-size: inherit;
  font-family: inherit;
  letter-spacing: inherit;
  animation: colorRotate 6s linear 0s infinite;
  /* subtle dark glow for legibility on light backgrounds */
  text-shadow: 0 2px 6px rgba(255, 255, 255, 0.134);
  filter: drop-shadow(0 2px 3px rgba(161, 161, 161, 0.308));
}

/* Larger cover title when rainbow class applied */
.cover .title.rainbow {
  font-size: clamp(3.5rem, 9vw, 5.5rem);
  line-height: 1;
  letter-spacing: 0.06em;
}

/* Simple fade-in for cover title */
.cover .title {
  opacity: 0;
  animation: fadeIn 2s forwards ease-in;
}

@keyframes fadeIn {
  to {
    opacity: 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  .cover .title {
    animation: none !important;
    opacity: 1 !important;
  }
}

/* Per-letter animation helpers */
.cover .title .char {
  display: inline-block;
  opacity: 0;
  transform: translateY(18px); /* start lower so letters come from below */
  will-change: transform, opacity;
}

.cover .title.animate-chars .char {
  animation: charIn 680ms cubic-bezier(0.22, 0.9, 0.3, 1) forwards;
}

/* If the title is rainbow, also animate color on each character (in parallel) */
.cover .title.rainbow.animate-chars .char {
  /* charIn runs once (for entrance), colorRotate loops forever */
  animation: charIn 680ms cubic-bezier(0.22, 0.9, 0.3, 1) forwards,
    colorRotate 6s linear 0s infinite;
}

@keyframes charIn {
  0% {
    opacity: 0;
    transform: translateY(18px);
  }
  60% {
    opacity: 1;
    transform: translateY(-6px); /* slight overshoot */
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .cover .title .char {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

@keyframes colorRotate {
  from {
    color: #6666ff;
  }
  10% {
    color: #0099ff;
  }
  50% {
    color: #00ff00;
  }
  75% {
    color: #ff3399;
  }
  100% {
    color: #6666ff;
  }
}

.poppins-regular {
  font-family: "Poppins", sans-serif;
  font-weight: 400;

  /* ScrollReveal helper classes: initial blurred state before reveal */
  .sr-pre {
    filter: blur(8px);
    opacity: 0.85; /* slightly dim while blurred */
    transition: filter 600ms cubic-bezier(0.2, 0.9, 0.3, 1), opacity 600ms ease;
  }

  /* When reveal removes blur, allow smooth unblur */
  .sr-pre.sr-unblur {
    filter: none;
    opacity: 1;
  }

  /* Animation styles for per-character H2 animation (anime-like) */
  .analysis-intro .text-xl {
    font-size: 1.5rem;
    color: currentColor;
    letter-spacing: 0.06em;
  }
  .analysis-intro .text-xl .char {
    display: inline-block;
    will-change: transform, opacity;
  }

  /* Animated heading characters used by the WAAPI/Anime-like script */
  .h2-anim .char,
  .analysis-item .char {
    display: inline-block;
    transform-origin: center bottom;
  }
  font-style: normal;
}

.poppins-medium {
  font-family: "Poppins", sans-serif;
  font-weight: 500;
  font-style: normal;
}

.poppins-semibold {
  font-family: "Poppins", sans-serif;
  font-weight: 600;
  font-style: normal;
}

.poppins-bold {
  font-family: "Poppins", sans-serif;
  font-weight: 700;
  font-style: normal;
}

.poppins-extrabold {
  font-family: "Poppins", sans-serif;
  font-weight: 800;
  font-style: normal;
}

.poppins-black {
  font-family: "Poppins", sans-serif;
  font-weight: 900;
  font-style: normal;
}

.poppins-thin-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 100;
  font-style: italic;
}

.poppins-extralight-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 200;
  font-style: italic;
}

.poppins-light-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 300;
  font-style: italic;
}

.poppins-regular-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 400;
  font-style: italic;
}

.poppins-medium-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 500;
  font-style: italic;
}

/* Analysis page: alternating media + content list */
.analysis-section {
  max-width: 2000px; /* much wider so text lines are significantly longer on large desktops */
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.analysis-list {
  margin-top: 1.5rem;
}
.analysis-item {
  padding: 3.5rem 0;
  box-sizing: border-box;
}

/* center the intro block vertically between the header and the first item */
.analysis-intro {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 2rem 1rem;
}

/* Descriptive text that should flow in responsive columns on wide screens
   Use CSS multicolumn for natural text flow; fallback to single column on small screens */
.analysis-description {
  max-width: 1200px;
  /* bring the columns closer to the H2 title */
  margin: 0.125rem auto 0 auto;
  padding: 0 1rem;
  text-align: left; /* readable column alignment */
  color: #111;
}
.analysis-description p {
  margin: 0 0 1rem 0;
  line-height: 1.7;
}

/* Ensure strong in the analysis description stands out */
.analysis-description strong {
  /* Override global p { font-weight: 400 !important } so strong shows bold */
  font-weight: 800 !important;
  color: #111; /* match body text but ensure boldness */
}

/* Ensure bold also works inside the analysis items cards */
.analysis-item .content strong,
.analysis-item .content b {
  font-weight: 800 !important;
  color: inherit;
}

@media (min-width: 900px) {
  .analysis-description {
    column-count: 2;
    column-gap: 2.25rem; /* space between columns */
    hyphens: auto;
  }
  .analysis-description p {
    /* avoid breaking paragraphs between columns if short */
    break-inside: avoid-column;
  }
}

/* Screenshot marquee/grid gallery styles */
.screenshot-marquee {
  margin: 3.5rem 0 4rem 0; /* increased top gap to separate from columns */
  width: 100vw; /* edge-to-edge */
  padding: 0; /* remove inner page padding so it reaches edges */
  box-sizing: border-box;
}
.screenshot-marquee .marquee-row {
  position: relative;
  overflow: hidden;
  width: 100vw; /* match viewport width so it spans edge-to-edge */
  margin: 0.5rem 0;
}
.screenshot-marquee .marquee-scroller {
  display: flex; /* ensure duplicated tracks sit in a single horizontal row */
  gap: 0;
  align-items: center;
  overflow: hidden;
  flex-wrap: nowrap; /* prevent tracks from wrapping to next line */
}
.screenshot-marquee .marquee-track {
  display: flex;
  gap: 1rem;
  align-items: center;
  flex: 0 0 auto; /* prevent tracks from shrinking/wrapping */
  flex-wrap: nowrap; /* ensure shots inside a track don't wrap */
  /* ensure track is wide enough; it will be duplicated in markup for seamless loop */
}
.screenshot-marquee .marquee-track[aria-hidden="true"] {
  margin-left: 0;
}
.screenshot-marquee .shot {
  flex: 0 0 auto;
  /* slightly larger moving photos */
  width: 260px;
  min-width: 200px;
  box-sizing: border-box;
}
.screenshot-marquee .marquee-track {
  gap: 0.75rem;
}
.screenshot-marquee .marquee-track .shot,
.screenshot-marquee .marquee-track figure {
  margin: 0; /* remove default figure margins so tracks sit flush */
  padding: 0;
}
.screenshot-marquee .shot img {
  display: block;
  width: 100%;
  height: auto;
  border-radius: 8px;
  border: 1px solid rgba(0, 0, 0, 0.06);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
}

/* marquee animation: continuous right-to-left loop for a single row (duplicated track) */
@keyframes marquee-loop {
  0% {
    transform: translate3d(0, 0, 0);
  }
  100% {
    transform: translate3d(-50%, 0, 0);
  }
}

/* apply animation only on wide screens (where duplication makes sense) */
@media (min-width: 900px) {
  .screenshot-marquee .marquee-track {
    will-change: transform;
  }
  /* animate the first track to move left; the duplicated second track creates the seamless loop */
  /* animate the scroller itself so the duplicated track scrolls seamlessly */
  .screenshot-marquee .marquee-row .marquee-scroller {
    /* CSS animation disabled: JS will drive the motion for better control and to avoid throttling */
    animation: none !important;
    will-change: transform;
  }
  /* pause animations on hover/focus for accessibility */
  .screenshot-marquee:hover .marquee-scroller,
  .screenshot-marquee:focus-within .marquee-scroller {
    animation-play-state: paused;
  }
  /* reduce number of visible shots on medium screens */
  @media (min-width: 900px) and (max-width: 1199px) {
    .screenshot-marquee .shot {
      width: calc(33.333% - 0.66rem);
    }
  }
  /* add larger top spacing on wide screens */
  .screenshot-marquee {
    margin-top: 5rem;
    margin-bottom: 5rem;
  }
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .screenshot-marquee .marquee-track {
    animation: none !important;
  }
}
.analysis-item .inner {
  display: flex;
  gap: 1.5rem;
  align-items: center;
  width: 100%;
  box-sizing: border-box;
}
.analysis-list {
  margin-top: 1.5rem;
  padding: 0;
}
.analysis-item {
  padding: 1.25rem 0;
  box-sizing: border-box;
}
.analysis-item .inner {
  display: flex;
  gap: 0; /* remove gap to bring text flush to the image edge */
  align-items: center;
  width: 100%;
  box-sizing: border-box;
  padding: 0;
}
.analysis-item .media {
  flex: 0 0 55%;
  display: flex;
  justify-content: flex-start;
  padding: 0;
}
.analysis-item .media img {
  display: block;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  aspect-ratio: 16/9;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid rgba(0, 0, 0, 0.08);
  background: #fff;
  margin: 0;
}
.analysis-item .content {
  flex: 1 1 45%;
  padding: 0.5rem 0.5rem; /* reduce padding further to tighten gap */
  box-sizing: border-box;
}
.analysis-item .content {
  /* Glass card fill */
  background: rgba(255, 255, 255, 0.19);
  border-radius: 16px;
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  padding: 1rem; /* inner padding for card content */
  position: relative;
  z-index: 0;
  transition: box-shadow 0.18s ease, transform 0.18s ease;
  /* border-image uses a conic-gradient to draw color only on the border
     border thickness controls how thick the rainbow line appears */
  --rain-angle: 0deg;
  --rain-alpha: 0.45; /* transparency for the rainbow outline */
  border: 2px solid transparent;
  border-image: conic-gradient(
      from var(--rain-angle),
      rgba(255, 0, 71, var(--rain-alpha)),
      rgba(255, 122, 0, var(--rain-alpha)),
      rgba(255, 209, 0, var(--rain-alpha)),
      rgba(0, 210, 106, var(--rain-alpha)),
      rgba(0, 179, 255, var(--rain-alpha)),
      rgba(106, 0, 255, var(--rain-alpha)),
      rgba(255, 0, 71, var(--rain-alpha))
    )
    1 round;
  animation: rainbow-rotate 6s linear infinite;
}

/* Smaller screen: lighter glass and slightly smaller radius */
@media (max-width: 899px) {
  .analysis-item .content {
    border-radius: 12px;
    padding: 0.75rem;
    backdrop-filter: none;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
    animation: none; /* disable rotation on small screens */
    --rain-angle: 0deg;
  }
}

/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .analysis-item .content {
    animation: none !important;
    --rain-angle: 0deg !important;
  }
}

@keyframes rainbow-rotate {
  to {
    --rain-angle: 360deg;
  }
}

/* Slightly different treatment on small screens to avoid heavy blur */
@media (max-width: 899px) {
  .analysis-item .content {
    /* small-screen glass: lighter tint and no backdrop blur for performance */
    background: rgba(255, 255, 255, 0.19);
    border-radius: 12px;
    padding: 0.75rem;
    backdrop-filter: none;
    border: 1px solid rgba(255, 255, 255, 0.18);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06);
  }
}

/* Alternate media position for visual rhythm */
@media (min-width: 768px) {
  .analysis-list {
    scroll-snap-type: y proximity;
  }
  .analysis-item {
    min-height: calc(60vh);
    scroll-snap-align: center;
  }
  .analysis-item:nth-child(odd) .inner {
    flex-direction: row;
  }
  .analysis-item:nth-child(even) .inner {
    flex-direction: row-reverse;
  }
  .analysis-item .media {
    flex: 0 0 52%;
    display: flex;
    justify-content: center;
  }
  .analysis-item .content {
    flex: 1 1 48%;
    /* allow the content column to be much wider on large screens */
    max-width: 90ch; /* much wider line length for testing */
  }
  /* ensure a slight peek of previous/next */
  .analysis-item {
    padding: 2rem 0;
  }
  /* make images larger as requested */
  .analysis-item .media img {
    width: min(1600px, 85vw);
    min-height: 480px;
  }
}

/* Stretch images to viewport edges: calculate frame width and offset, then shift image left/right */
@media (min-width: 768px) {
  :root {
    --analysis-frame-width: min(1600px, 85vw);
  }
  .analysis-list {
    --frame-w: var(--analysis-frame-width);
    --side-gap: calc((100vw - var(--frame-w)) / 2);
  }

  /* odd items: image on left -> shift image left to touch viewport left edge */
  .analysis-item:nth-child(odd) .media img {
    margin-left: calc(var(--side-gap) * -1.25); /* push further */
    margin-right: 0;
  }
  /* even items: image on right -> shift image right to touch viewport right edge */
  .analysis-item:nth-child(even) .media img {
    margin-right: calc(var(--side-gap) * -1.25); /* push further */
    margin-left: 0;
  }
  /* ensure overflow visible so images can stick out */
  .analysis-section,
  .analysis-list {
    overflow: visible;
  }
}

/* Active item styling
   NOTE: user requested removing the blue highlight that appears while
   scrolling. Keep the .active class for JS state but remove visual
   emphasis so items aren't marked in blue when scrolled into view. */
.analysis-item.active .content {
  background: transparent; /* no blue tint on active */
  border-left: none; /* remove left accent */
  box-shadow: none; /* remove any subtle shadow change */
}
.analysis-item:nth-child(even).active .content {
  border-left: none;
  border-right: none; /* remove right accent for even items */
}

/* Small screens: stack media above content */
@media (max-width: 899px) {
  .analysis-item .inner {
    flex-direction: column;
  }
  .analysis-item .media {
    width: 100%;
  }
  .analysis-item .content {
    width: 100%;
  }
}

.poppins-semibold-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 600;
  font-style: italic;
}

.poppins-bold-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 700;
  font-style: italic;
}

.poppins-extrabold-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 800;
  font-style: italic;
}

.poppins-black-italic {
  font-family: "Poppins", sans-serif;
  font-weight: 900;
  font-style: italic;
}

/* Raleway utility classes (descriptive names) */
.raleway-light {
  font-family: "Raleway", sans-serif;
  font-optical-sizing: auto;
  font-weight: 300;
  font-style: normal;
}
.raleway-regular {
  font-family: "Raleway", sans-serif;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
}
.raleway-medium {
  font-family: "Raleway", sans-serif;
  font-optical-sizing: auto;
  font-weight: 500;
  font-style: normal;
}
.raleway-bold {
  font-family: "Raleway", sans-serif;
  font-optical-sizing: auto;
  font-weight: 700;
  font-style: normal;
}

/* Cool infinite background scrolling animation.
/* Exo thin font from Google. */
@import url(https://fonts.googleapis.com/css?family=Exo:100);
/* Background data (Original source: https://subtlepatterns.com/grid-me/) */
/* Animations */
@-webkit-keyframes bg-scrolling-reverse {
  100% {
    background-position: 50px 50px;
  }
}
@-moz-keyframes bg-scrolling-reverse {
  100% {
    background-position: 50px 50px;
  }
}
@-o-keyframes bg-scrolling-reverse {
  100% {
    background-position: 50px 50px;
  }
}
@keyframes bg-scrolling-reverse {
  100% {
    background-position: 50px 50px;
  }
}
@-webkit-keyframes bg-scrolling {
  0% {
    background-position: 50px 50px;
  }
}
@-moz-keyframes bg-scrolling {
  0% {
    background-position: 50px 50px;
  }
}
@-o-keyframes bg-scrolling {
  0% {
    background-position: 50px 50px;
  }
}
@keyframes bg-scrolling {
  0% {
    background-position: 50px 50px;
  }
}
/* Main styles */
body {
  /* ensure page uses column flex so footer can be pushed to bottom */
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  /* reserve space for fixed header */
  padding-top: var(--header-height);
  color: rgb(0, 0, 0);
  text-align: center;
  /* img size is 50x50 */
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAIAAACRXR/mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAABnSURBVHja7M5RDYAwDEXRDgmvEocnlrQS2SwUFST9uEfBGWs9c97nbGtDcquqiKhOImLs/UpuzVzWEi1atGjRokWLFi1atGjRokWLFi1atGjRokWLFi1af7Ukz8xWp8z8AAAA//8DAJ4LoEAAlL1nAAAAAElFTkSuQmCC")
    repeat 0 0;
  -webkit-animation: bg-scrolling-reverse 0.92s infinite;
  /* Safari 4+ */
  -moz-animation: bg-scrolling-reverse 0.92s infinite;
  /* Fx 5+ */
  -o-animation: bg-scrolling-reverse 0.92s infinite;
  /* Opera 12+ */
  animation: bg-scrolling-reverse 0.92s infinite;
  /* IE 10+ */
  -webkit-animation-timing-function: linear;
  -moz-animation-timing-function: linear;
  -o-animation-timing-function: linear;
  animation-timing-function: linear;
}

/* Larger headers on wider screens */
@media (min-width: 768px) {
  :root {
    --header-height: 72px;
  }
}
@media (min-width: 1200px) {
  :root {
    --header-height: 88px;
  }
}

/* Fixed footer: ensure it sits at bottom of viewport without overlapping content */
footer {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  height: var(--footer-height);
  line-height: var(--footer-height);
  background: rgba(255, 255, 255, 0.98);
  border-top: 1px solid rgba(0, 0, 0, 0.06);
  z-index: 1200;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 1rem;
}

/* Slightly larger footer on wide screens */
@media (min-width: 768px) {
  :root {
    --footer-height: 64px;
  }
}

@media (min-width: 1200px) {
  :root {
    --footer-height: 72px;
  }
}

/* Give users the option to reduce motion */
@media (prefers-reduced-motion: reduce) {
  .title {
    animation: none;
    width: auto;
    border-right: none;
  }
  * {
    transition: none !important;
    animation: none !important;
  }
}

/* Article styles for the right column */
.site-article {
  color: #000; /* black text */
  text-align: left; /* justify to left */
  padding-left: 0.25rem; /* mobile-first: bring text closer to iframe */
  --article-gap: 1.25rem; /* default gap between article elements */
}
.site-article__title {
  /* ~3x larger than before, responsive */
  font-size: clamp(2.5rem, 6.5vw, 3.5rem);
  font-weight: 800;
  margin: 0 0 var(--article-gap) 0; /* use uniform gap */
}

/* Slightly reduce h3 line-height for tighter headings */
h3,
.site-article__title {
  line-height: 1.05; /* slightly tighter than default */
}
.site-article__body {
  font-size: 0.95rem;
  line-height: 1.6;
  margin: 0 0 var(--article-gap) 0; /* same gap to the button */
}

@media (min-width: 768px) {
  /* ensure article height doesn't exceed iframe on desktop; scroll if needed */
  .site-article {
    max-height: calc(78vh - var(--header-height));
    overflow-y: auto;
    padding-left: 0.5rem;
  }
}
button,
.learn-more {
  position: relative;
  display: inline-block;
  cursor: pointer;
  outline: none;
  border: 0;
  vertical-align: middle;
  text-decoration: none;
  background: transparent;
  padding: 0;
  font-size: inherit;
  font-family: inherit;
}

/* (button color tweaks removed â€” restored to original styles below) */

/* make sure poppins utility classes apply the actual font-family
   (in case another stylesheet resets fonts) */
.poppins-thin,
.poppins-extralight,
.poppins-light,
.poppins-regular,
.poppins-medium,
.poppins-semibold,
.poppins-bold,
.poppins-extrabold,
.poppins-black,
.poppins-thin-italic,
.poppins-extralight-italic,
.poppins-light-italic,
.poppins-regular-italic,
.poppins-medium-italic,
.poppins-semibold-italic,
.poppins-bold-italic,
.poppins-extrabold-italic,
.poppins-black-italic {
  font-family: "Poppins", sans-serif !important;
}

.learn-more {
  width: 12rem;
  height: auto;
  display: inline-block; /* ensure anchor behaves like button */
}

.learn-more .circle {
  transition: all 0.45s cubic-bezier(0.65, 0, 0.076, 1);
  position: relative;
  display: block;
  margin: 0;
  width: 3rem;
  height: 3rem;
  background: #282936;
  border-radius: 1.625rem;
}

.learn-more .circle .icon {
  transition: all 0.45s cubic-bezier(0.65, 0, 0.076, 1);
  position: absolute;
  top: 0;
  bottom: 0;
  margin: auto;
  background: #fff;
}

.learn-more .circle .icon.arrow {
  transition: all 0.45s cubic-bezier(0.65, 0, 0.076, 1);
  left: 0.625rem;
  width: 1.125rem;
  height: 0.125rem;
  background: none;
}

.learn-more .circle .icon.arrow::before {
  position: absolute;
  content: "";
  top: -0.29rem;
  right: 0.0625rem;
  width: 0.625rem;
  height: 0.625rem;
  border-top: 0.125rem solid #fff;
  border-right: 0.125rem solid #fff;
  transform: rotate(45deg);
}

.learn-more .button-text {
  transition: all 0.45s cubic-bezier(0.65, 0, 0.076, 1);
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  padding: 0.75rem 0;
  margin: 0 0 0 0.15rem; /* tighter to the arrow */
  color: #282936;
  font-weight: 700; /* back to bold as requested */
  line-height: 1.6;
  text-align: center;
  text-transform: uppercase;
}

button:hover .circle,
.learn-more:hover .circle {
  width: 100%;
}

button:hover .circle .icon.arrow,
.learn-more:hover .circle .icon.arrow {
  background: #fff;
  transform: translate(1rem, 0);
}

button:hover .button-text,
.learn-more:hover .button-text {
  color: #fff;
}

/* fallback when iframe cannot display (CSP / X-Frame-Options blocking) */
.embed-fallback {
  display: none;
  padding: 1rem;
  text-align: center;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 6px;
}
.embed-fallback p {
  margin: 0 0 0.5rem 0;
  color: #222;
}
.embed-fallback .embed-open {
  color: #007acc;
  text-decoration: none;
  font-weight: 600;
}
.site-embed[aria-hidden="true"] {
  display: none;
}

/* force thumbnail mode: hide iframe, show fallback thumbnail */
.site-embed-wrapper.force-thumb .site-embed {
  display: none;
}
.site-embed-wrapper.force-thumb .embed-fallback {
  display: block;
}
/* make the fallback image match the iframe sizing and styling */
.site-embed-wrapper.force-thumb .embed-fallback img {
  display: block;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  aspect-ratio: 16 / 9;
  height: auto;
  object-fit: cover;
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: 8px;
  background: #fff;
}
@media (min-width: 768px) {
  .site-embed-wrapper.force-thumb .embed-fallback img {
    width: min(1200px, 65vw);
    min-height: 360px;
  }
}
